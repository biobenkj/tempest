# Tempest Training Configuration
# This configuration is optimized for training a model with ACC PWM integration

model:
  # Vocabulary: A=0, C=1, G=2, T=3, N=4
  vocab_size: 5
  
  # Embedding layer
  embedding_dim: 128
  
  # CNN layers for local motif detection
  use_cnn: true
  cnn_filters: [64, 128]
  cnn_kernels: [3, 5]
  
  # BiLSTM layers for long-range dependencies
  use_bilstm: true
  lstm_units: 128
  lstm_layers: 2
  dropout: 0.3
  
  # Output layer (CRF integration coming in future phase)
  num_labels: 6  # ADAPTER5, UMI, ACC, BARCODE, INSERT, ADAPTER3
  use_crf: false  # Set to true when CRF layer is integrated
  
  # Sequence processing
  max_seq_len: 256
  batch_size: 32

# PWM configuration for ACC detection
pwm:
  pwm_file: "acc_pwm.txt"
  use_pwm: true
  pwm_threshold: 0.7

# Data simulation settings
simulation:
  # Define sequence structure
  sequence_order: ['ADAPTER5', 'UMI', 'ACC', 'BARCODE', 'INSERT', 'ADAPTER3']
  
  # Fixed sequences for adapters
  sequences:
    ADAPTER5: 'AGATCGGAAGAGC'
    ADAPTER3: 'AGATCGGAAGAGC'
    INSERT: 'random'
  
  # ACC sequence priors (optional - will use PWM if not provided)
  # acc_priors_file: "acc_priors.tsv"
  
  # Barcode file (optional - will generate random if not provided)
  # barcode_file: "barcodes.txt"
  
  # UMI settings
  umi_length: 8
  
  # Simulation parameters
  num_sequences: 5000
  insert_min_length: 50
  insert_max_length: 150
  error_rate: 0.02  # 2% error rate
  random_seed: 42

# Training configuration
training:
  # Optimizer settings
  learning_rate: 0.001
  optimizer: 'adam'
  epochs: 20
  
  # Data splits
  train_split: 0.8  # 80% training, 20% validation
  
  # Callbacks
  early_stopping_patience: 5
  reduce_lr_patience: 3
  checkpoint_dir: './checkpoints'
  
  # Performance (not yet implemented)
  use_mixed_precision: false
  use_xla: false
